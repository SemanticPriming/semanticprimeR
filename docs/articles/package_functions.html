<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="semanticprimeR">
<title>semanticprimeR Package Functions • semanticprimeR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="semanticprimeR Package Functions">
<meta property="og:description" content="semanticprimeR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">semanticprimeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ambrosini_vignette.html">Power and Sample Size Simulation: Italian Age of Acquisition Norms for a Large Set of Words (ItAoA)</a>
    <a class="dropdown-item" href="../articles/barzykowski_vignette.html">Power and Sample Size Simulation: Cue Word Valence Data Example</a>
    <a class="dropdown-item" href="../articles/batres_vignette.html">Power and Sample Size Simulation: Attractiveness Ratings Example</a>
    <a class="dropdown-item" href="../articles/geller_vignette.html">Power and Sample Size Simulation: Overconfidence for picture cues in foreign language learning</a>
    <a class="dropdown-item" href="../articles/heyman_vignette.html">Power and Sample Size Simulation: Reaction Time Example (raw RT)</a>
    <a class="dropdown-item" href="../articles/mcfall_vignette.html">Power and Sample Size Simulation: EAMMi2</a>
    <a class="dropdown-item" href="../articles/moat_vignette.html">Power and Sample Size Simulation: Seeing is Believing</a>
    <a class="dropdown-item" href="../articles/montefinese_vignette.html">Power and Sample Size Simulatio: Online search trends and word-related emotional response during COVID-19 lockdown in Italy</a>
    <a class="dropdown-item" href="../articles/package_functions.html">semanticprimeR Package Functions</a>
    <a class="dropdown-item" href="../articles/roer_vignette.html">Power and Sample Size Simulation: Survival Processing Usefulness</a>
    <a class="dropdown-item" href="../articles/suchow_vignette.html">Power and Sample Size Simulation: Superficial Face Judgment</a>
    <a class="dropdown-item" href="../articles/ulloa_vignette.html">Power and Sample Size Simulation: Liking effect induced by gaze</a>
    <a class="dropdown-item" href="../articles/vanpaemel_vignette.html">Power and Sample Size Simulation: Typicality, goodness, imageability, and familiarity of stimuli across 16 categories</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>semanticprimeR Package Functions</h1>
                        <h4 data-toc-skip class="author">Erin
Buchanan</h4>
            
            <h4 data-toc-skip class="date">2024-07-23</h4>
      
      
      <div class="d-none name"><code>package_functions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="libraries">Libraries<a class="anchor" aria-label="anchor" href="#libraries"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://semanticpriming.github.io/semanticprimeR/">semanticprimeR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'semanticprimeR'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:dplyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     top_n</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bnosac.github.io/udpipe/en/index.html" class="external-link">udpipe</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/quanteda/stopwords" class="external-link">stopwords</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gesistsa.github.io/rio/" class="external-link">rio</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'rio' was built under R version 4.3.3</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="power-functions">Power Functions<a class="anchor" aria-label="anchor" href="#power-functions"></a>
</h2>
<p>During the process of this project, we proposed a new way to
calculate “power” for adaptive sampling of items using accuracy in
parameter estimation and bootstrapping/simulation methods. You can
review the preprint here: <a href="https://osf.io/preprints/osf/e3afx" class="external-link uri">https://osf.io/preprints/osf/e3afx</a></p>
<p>This package has many vignettes for different types of data you can
examine by using <code>vignette(package = "semanticprimeR")</code> to
review what is avaliable and
<code><a href="../articles/montefinese_vignette.html">vignette(topic = "montefinese_vignette", package = "semanticprimeR")</a></code>
as a specific example to view a specific vignette.</p>
<p>The information presented here is a shortened version of the paper to
show off the functionality of the package.</p>
<div class="section level3">
<h3 id="simulate-population">Simulate Population<a class="anchor" aria-label="anchor" href="#simulate-population"></a>
</h3>
<p>Let’s say we want to run a priming study, but do not have previous
data. We can use <code><a href="../reference/simulate_population.html">simulate_population()</a></code> to create some
sample data to use in for estimating sample size for adaptive testing
and stopping rules.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_population.html">simulate_population</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fl">25</span>, <span class="co"># mean priming in ms</span></span>
<span>                    mu_sigma <span class="op">=</span> <span class="fl">5</span>, <span class="co"># standard deviation of the item means</span></span>
<span>                    sigma <span class="op">=</span> <span class="fl">10</span>, <span class="co"># population standard devation for items</span></span>
<span>                    sigma_sigma <span class="op">=</span> <span class="fl">3</span>, <span class="co"># standard deviation of the standard deviation of items</span></span>
<span>                    number_items <span class="op">=</span> <span class="fl">75</span>, <span class="co"># number of priming items </span></span>
<span>                    number_scores <span class="op">=</span> <span class="fl">100</span>, <span class="co"># a population of values to simulate</span></span>
<span>                    smallest_sigma <span class="op">=</span> <span class="fl">1</span>, <span class="co"># smallest possible item standard deviation </span></span>
<span>                    min_score <span class="op">=</span> <span class="op">-</span><span class="fl">25</span>, <span class="co"># min ms priming</span></span>
<span>                    max_score <span class="op">=</span> <span class="fl">100</span>, <span class="co"># max ms priming </span></span>
<span>                    digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   item  score</span></span>
<span><span class="co">#&gt; 1    1 22.966</span></span>
<span><span class="co">#&gt; 2    2 27.720</span></span>
<span><span class="co">#&gt; 3    3  1.809</span></span>
<span><span class="co">#&gt; 4    4 19.104</span></span>
<span><span class="co">#&gt; 5    5 38.348</span></span>
<span><span class="co">#&gt; 6    6 41.431</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="calculate-cutoff">Calculate Cutoff<a class="anchor" aria-label="anchor" href="#calculate-cutoff"></a>
</h3>
<p>From this dataframe, we can calculate the standard error of the
items, which is used to determine if the item has reached the stopping
rule (i.e., if the standard error reaches a defined value, it is
considered accurately measured, and we can stop sampling it). To get the
defined value, we use the 40% decile of the standard errors of the
items.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cutoff</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_cutoff.html">calculate_cutoff</a></span><span class="op">(</span>population <span class="op">=</span> <span class="va">df</span>, <span class="co"># pilot data or simulated data</span></span>
<span>  grouping_items <span class="op">=</span> <span class="st">"item"</span>, <span class="co"># name of the item indicator column</span></span>
<span>  score <span class="op">=</span> <span class="st">"score"</span>, <span class="co"># name of the dependent variable column</span></span>
<span>  minimum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">score</span><span class="op">)</span>, <span class="co"># minimum possible/found score</span></span>
<span>  maximum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">score</span><span class="op">)</span><span class="op">)</span> <span class="co"># maximum possible/found score</span></span>
<span>                           </span>
<span><span class="va">cutoff</span><span class="op">$</span><span class="va">se_items</span> <span class="co"># all standard errors of items</span></span>
<span><span class="co">#&gt;  [1] 1.1914848 1.2944957 0.9411572 1.0181927 0.9976637 1.6398903 1.4534350</span></span>
<span><span class="co">#&gt;  [8] 1.1954318 1.1967030 0.7680782 1.4009475 0.2155584 0.7733205 1.1256345</span></span>
<span><span class="co">#&gt; [15] 0.8887702 1.1431167 1.1658235 1.2875266 0.9747519 1.0861600 1.4798068</span></span>
<span><span class="co">#&gt; [22] 0.9016232 1.2245109 1.4814803 0.8933068 0.9018008 0.7951396 0.7464761</span></span>
<span><span class="co">#&gt; [29] 0.7540108 0.4469756 0.7262989 0.7128257 0.8571588 1.1398729 1.3525854</span></span>
<span><span class="co">#&gt; [36] 0.9395962 0.5548498 1.0024380 0.8636102 1.2956495 1.5543834 1.2468959</span></span>
<span><span class="co">#&gt; [43] 0.4499860 0.9400761 1.3068053 1.6198171 1.1612173 1.2668006 1.0598592</span></span>
<span><span class="co">#&gt; [50] 1.0157997 1.0114304 1.1258111 0.9879748 0.8066764 1.0789258 0.5931047</span></span>
<span><span class="co">#&gt; [57] 1.3059619 0.9923325 0.4971521 0.7544609 1.1140443 0.7171717 0.9382714</span></span>
<span><span class="co">#&gt; [64] 1.1860594 1.0760170 0.9469807 0.7591402 1.4144226 1.1881549 1.2362692</span></span>
<span><span class="co">#&gt; [71] 1.3670759 0.6974420 1.1948369 0.4762515 1.5065986</span></span>
<span><span class="va">cutoff</span><span class="op">$</span><span class="va">sd_items</span> <span class="co"># standard deviation of the standard errors</span></span>
<span><span class="co">#&gt; [1] 0.2981085</span></span>
<span><span class="va">cutoff</span><span class="op">$</span><span class="va">cutoff</span> <span class="co"># 40% decile score</span></span>
<span><span class="co">#&gt;       40% </span></span>
<span><span class="co">#&gt; 0.9636434</span></span>
<span><span class="va">cutoff</span><span class="op">$</span><span class="va">prop_var</span> <span class="co"># proportion of possible variance </span></span>
<span><span class="co">#&gt; [1] 0.006049832</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="bootstrapsimulate-samples">Bootstrap/Simulate Samples<a class="anchor" aria-label="anchor" href="#bootstrapsimulate-samples"></a>
</h3>
<p>Next, we use bootstrapping/simulate to pretend we have samples of a
starting size (we suggest 20) up to a maximim size we are willing to
collect. These samples will be used to determine the number of items
that achieve our stopping rule to determine how many participants are
needed to accurately measure most items.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bootstrap_samples.html">bootstrap_samples</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">20</span>, <span class="co"># starting sample size</span></span>
<span>  stop <span class="op">=</span> <span class="fl">400</span>, <span class="co"># stopping sample size</span></span>
<span>  increase <span class="op">=</span> <span class="fl">5</span>, <span class="co"># increase bootstrapped samples by this amount</span></span>
<span>  population <span class="op">=</span> <span class="va">df</span>, <span class="co"># population or pilot data</span></span>
<span>  replace <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># bootstrap with replacement? </span></span>
<span>  nsim <span class="op">=</span> <span class="fl">500</span>, <span class="co"># number of simulations to run</span></span>
<span>  grouping_items <span class="op">=</span> <span class="st">"item"</span><span class="op">)</span> <span class="co"># item column label </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">samples</span>, file <span class="op">=</span> <span class="st">"data/simulatePriming.RData"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># since that's a slow function, we wrote out the data and read it back in</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="st">"data/simulatePriming.Rdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">samples</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   item [1]</span></span></span>
<span><span class="co">#&gt;    item score</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 15.8 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 19.6 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 17.7 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 25.6 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1 31.0 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     1  5.53</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="calculate-proportions-of-items-measured">Calculate Proportions of Items Measured<a class="anchor" aria-label="anchor" href="#calculate-proportions-of-items-measured"></a>
</h3>
<p>From those samples and our estimated cutoff score, we can calculate
the number of items below our suggested stopping rule.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">proportion_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_proportion.html">calculate_proportion</a></span><span class="op">(</span>samples <span class="op">=</span> <span class="va">samples</span>, <span class="co"># samples list</span></span>
<span>  cutoff <span class="op">=</span> <span class="va">cutoff</span><span class="op">$</span><span class="va">cutoff</span>, <span class="co"># cut off score </span></span>
<span>  grouping_items <span class="op">=</span> <span class="st">"item"</span>, <span class="co"># item column name</span></span>
<span>  score <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span> <span class="co"># dependent variable column name </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">proportion_summary</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;   sample_size percent_below</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          20        0.04  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          25        0.066<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          30        0.08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          35        0.093<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          40        0.12  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>          45        0.147</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="final-sample-size">Final Sample Size<a class="anchor" aria-label="anchor" href="#final-sample-size"></a>
</h3>
<p>As you will note in our paper, we determined that this simulation
procedure needs a correction to approximate traditional interpretations
of power. You can use “power” levels like 80 percent, 90 percent, etc.
similarly to traditional power - use higher numbers if you want to be
more stringent to make sure all items are “well measured” (and
correspondingly you will get higher estimated sample sizes). We
suggested using 80% as a “minimum” sample size, the cutoff stopping rule
while running the study if you use adaptive sampling (or just overall to
review the data), and a higher value like 90% for a maximum sample size
to collect.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corrected_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_correction.html">calculate_correction</a></span><span class="op">(</span></span>
<span>  proportion_summary <span class="op">=</span> <span class="va">proportion_summary</span>, <span class="co"># prop from above</span></span>
<span>  pilot_sample_size <span class="op">=</span> <span class="fl">100</span>, <span class="co"># number of participants in the pilot data </span></span>
<span>  proportion_variability <span class="op">=</span> <span class="va">cutoff</span><span class="op">$</span><span class="va">prop_var</span>, <span class="co"># proportion variance from cutoff scores</span></span>
<span>  power_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">85</span>, <span class="fl">90</span>, <span class="fl">95</span><span class="op">)</span><span class="op">)</span> <span class="co"># what levels of power to calculate </span></span>
<span></span>
<span><span class="va">corrected_summary</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   percent_below sample_size corrected_sample_size</span></span>
<span><span class="co">#&gt;           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          80           170                  92.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          88           210                 115. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          90.7         235                 129. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          96           275                 150.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="create-stimuli-functions">Create Stimuli Functions<a class="anchor" aria-label="anchor" href="#create-stimuli-functions"></a>
</h2>
<p>Once you’ve determine your sample sizes, you will want to create
stimuli. These functions show you how we created stimuli from the
<code>OpenSubtitles</code> project using the <code>subs2vec</code>
project.</p>
<ul>
<li>
<code>OpenSubtitles</code>: <a href="https://opus.nlpl.eu/OpenSubtitles/corpus/version/OpenSubtitles" class="external-link uri">https://opus.nlpl.eu/OpenSubtitles/corpus/version/OpenSubtitles</a>
</li>
<li>
<code>subs2vec</code>: <a href="https://github.com/jvparidon/subs2vec" class="external-link uri">https://github.com/jvparidon/subs2vec</a>.</li>
</ul>
<div class="section level3">
<h3 id="get-models">Get Models<a class="anchor" aria-label="anchor" href="#get-models"></a>
</h3>
<p>You can review the available models from <code>subs2vec</code> merged
with the available data in <code>OpenSubtitles</code> by using the data
function. You can use <code><a href="../reference/subsData.html">?subsData</a></code> to view the information
about the columns and the dataset.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"subsData"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">subsData</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 10</span></span></span>
<span><span class="co">#&gt;   language_code subs_vec   subs_count wiki_vec wiki_count files tokens sentences</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> hi            https://h… https://h… https:/… https://h…   102 1.0M   0.1M     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> gl            https://h… https://h… https:/… https://h…   449 2.3M   0.3M     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> ca            https://h… https://h… https:/… https://h…   832 4.6M   0.6M     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> bn            https://h… https://h… https:/… https://h…   542 3.7M   0.7M     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> br            https://h… https://h… https:/… https://h…    32 0.2M   23.1k    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> bs            https://h… https://h… https:/… https://h… <span style="text-decoration: underline;">37</span>309 215.4M 34.1M    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: language &lt;chr&gt;, udpipe_model &lt;chr&gt;</span></span></span></code></pre></div>
<p>We only worked with languages in which we could use a part of speech
tagger. We recommend <code>udpipe</code> as a great package that has
many taggers. The language model necessary is shown in the
<code>udpipe_model</code> column.</p>
<p>In this example, let’s use Afrikaans as a smaller dataset for an
example. The datasets can be very large - just a warning for downloading
and using on your computer. Use the <code>import_subs</code> function to
download and import the files you are interested in.</p>
<p>For language, please use the two letter language code in the
<code>language_code</code> column of the subsData.</p>
<p>You then need to pick <code>what</code> to download:</p>
<ul>
<li>
<code>subs_vec</code>: The subtitles embeddings from a fastText
model.</li>
<li>
<code>subs_count</code>: The frequency of tokens found in the
<code>subs_vec</code> model.</li>
<li>
<code>wiki_vec</code>: The Wikipedia embeddings from a fastText
model.</li>
<li>
<code>subs_count</code>: The frequency of tokens found in the
<code>wiki_vec</code> model.</li>
</ul>
<p>You may see some warnings based on file formatting.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">af_freq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_subs.html">import_subs</a></span><span class="op">(</span></span>
<span>  language <span class="op">=</span> <span class="st">"af"</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"subs_count"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">af_freq</span><span class="op">)</span></span>
<span><span class="co">#&gt;   unigram unigram_freq</span></span>
<span><span class="co">#&gt; 1     die        12673</span></span>
<span><span class="co">#&gt; 2     nie        11788</span></span>
<span><span class="co">#&gt; 3      ek        11605</span></span>
<span><span class="co">#&gt; 4      is         9147</span></span>
<span><span class="co">#&gt; 5     het         8109</span></span>
<span><span class="co">#&gt; 6      jy         7425</span></span></code></pre></div>
<p>We then used <code>udpipe</code> to filter our possible options. You
may have other criteria, but here’s an example of how we tagged concepts
(for their main part of speech, given no sentence context here). When
you use this function, it will download the model necessary for
tagging.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># tag with udpipe</span></span>
<span><span class="va">af_tagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/udpipe/man/udpipe.html" class="external-link">udpipe</a></span><span class="op">(</span><span class="va">af_freq</span><span class="op">$</span><span class="va">unigram</span>, </span>
<span>                    object <span class="op">=</span> <span class="va">subsData</span><span class="op">$</span><span class="va">udpipe_model</span><span class="op">[</span><span class="va">subsData</span><span class="op">$</span><span class="va">language_code</span> <span class="op">==</span> <span class="st">"af"</span><span class="op">]</span>, </span>
<span>                    parser <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">af_tagged</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 17</span></span></span>
<span><span class="co">#&gt;   doc_id paragraph_id sentence_id sentence start   end term_id token_id token</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> doc1              1           1 die          1     3       1 1        die  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> doc2              1           1 nie          1     3       1 1        nie  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> doc3              1           1 ek           1     2       1 1        ek   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> doc4              1           1 is           1     2       1 1        is   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> doc5              1           1 het          1     3       1 1        het  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> doc6              1           1 jy           1     2       1 1        jy   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: lemma &lt;chr&gt;, upos &lt;chr&gt;, xpos &lt;chr&gt;, feats &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   head_token_id &lt;chr&gt;, dep_rel &lt;chr&gt;, deps &lt;chr&gt;, misc &lt;chr&gt;</span></span></span></code></pre></div>
<p>We then:</p>
<ul>
<li>Lower cased</li>
<li>Removed anything less than three characters when appropriate</li>
<li>Picked words only in nouns, verbs, adjectives, and adverbs</li>
<li>Took out stopwords</li>
<li>Took out words with numbers</li>
</ul>
<p>We only used the top 10,000 words for the next section, but this
selection will depend on your use case as well.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># word_choice</span></span>
<span><span class="va">word_choice</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NOUN"</span>, <span class="st">"VERB"</span>, <span class="st">"ADJ"</span>, <span class="st">"ADV"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># lower case</span></span>
<span><span class="va">af_tagged</span><span class="op">$</span><span class="va">lemma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">af_tagged</span><span class="op">$</span><span class="va">lemma</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># three characters </span></span>
<span><span class="va">af_tagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_tagged</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">af_tagged</span><span class="op">$</span><span class="va">lemma</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># only nouns verbs, etc. </span></span>
<span><span class="va">af_tagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_tagged</span>, <span class="va">upos</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">word_choice</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># removed stop words just in case they were incorrectly tagged</span></span>
<span><span class="va">af_tagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_tagged</span>, <span class="op">!</span><span class="op">(</span><span class="va">lemma</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"af"</span>, source <span class="op">=</span> <span class="st">"stopwords-iso"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># removed things with numbers</span></span>
<span><span class="va">af_tagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_tagged</span>, <span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"[0-9]"</span>, <span class="va">af_tagged</span><span class="op">$</span><span class="va">sentence</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># merge frequency back into tagged list</span></span>
<span><span class="co"># merge by sentence so one to one match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">af_freq</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sentence"</span>, <span class="st">"freq"</span><span class="op">)</span></span>
<span><span class="va">af_final</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">af_tagged</span>, <span class="va">af_freq</span>, by <span class="op">=</span> <span class="st">"sentence"</span>, all.x <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">af_final</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 18</span></span></span>
<span><span class="co">#&gt;   sentence    doc_id paragraph_id sentence_id start   end term_id token_id token</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> aanbeveling doc17…            1           1     1    11       1 1        aanb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> aanbeweeg   doc81…            1           1     1     9       1 1        aanb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> aanbied     doc13…            1           1     1     7       1 1        aanb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> aanbreek    doc82…            1           1     1     8       1 1        aanb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> aanbring    doc14…            1           1     1     8       1 1        aanb…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> aandadig    doc57…            1           1     1     8       1 1        aand…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: lemma &lt;chr&gt;, upos &lt;chr&gt;, xpos &lt;chr&gt;, feats &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   head_token_id &lt;chr&gt;, dep_rel &lt;chr&gt;, deps &lt;chr&gt;, misc &lt;chr&gt;, freq &lt;int&gt;</span></span></span>
<span></span>
<span><span class="co"># eliminate duplicates by lemma</span></span>
<span><span class="va">af_final</span> <span class="op">&lt;-</span> <span class="va">af_final</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">af_final</span><span class="op">$</span><span class="va">freq</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> , <span class="op">]</span></span>
<span><span class="va">af_final</span> <span class="op">&lt;-</span> <span class="va">af_final</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">af_final</span><span class="op">$</span><span class="va">lemma</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># grab top 10K</span></span>
<span><span class="va">af_top</span> <span class="op">&lt;-</span> <span class="va">af_final</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10000</span> , <span class="op">]</span></span></code></pre></div>
<p>Next, we used <code><a href="../reference/import_subs.html">import_subs()</a></code> again import the embeddings
for the subtitles.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">af_dims</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_subs.html">import_subs</a></span><span class="op">(</span></span>
<span>  language <span class="op">=</span> <span class="st">"af"</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"subs_vec"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">af_dims</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 301</span></span></span>
<span><span class="co">#&gt;   V1           V2        V3      V4      V5     V6        V7       V8       V9</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> &lt;/s&gt;  -<span style="color: #BB0000;">0.236</span>     0.054<span style="text-decoration: underline;">4</span>    0.020<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.053</span><span style="color: #BB0000; text-decoration: underline;">1</span>  0.146  0.000<span style="text-decoration: underline;">971</span>  0.014<span style="text-decoration: underline;">6</span>   0.042<span style="text-decoration: underline;">3</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> nie   -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">683</span>  0.078<span style="text-decoration: underline;">7</span>    0.038<span style="text-decoration: underline;">2</span>  0.037<span style="text-decoration: underline;">9</span>  0.295  0.225    -<span style="color: #BB0000;">0.171</span>    0.132  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> die   -<span style="color: #BB0000;">0.023</span><span style="color: #BB0000; text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">478</span>  0.191  -<span style="color: #BB0000;">0.103</span>   0.176 -<span style="color: #BB0000;">0.088</span><span style="color: #BB0000; text-decoration: underline;">4</span>   -<span style="color: #BB0000;">0.082</span><span style="color: #BB0000; text-decoration: underline;">8</span>  -<span style="color: #BB0000;">0.005</span><span style="color: #BB0000; text-decoration: underline;">94</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> is    -<span style="color: #BB0000;">0.410</span>     0.144     0.133  -<span style="color: #BB0000;">0.104</span>   0.295 -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">1</span>   -<span style="color: #BB0000;">0.006</span><span style="color: #BB0000; text-decoration: underline;">18</span>  0.146  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> het    0.344    -<span style="color: #BB0000;">0.016</span><span style="color: #BB0000; text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.198</span>   0.259  -<span style="color: #BB0000;">0.579</span> -<span style="color: #BB0000;">0.154</span>     0.131   -<span style="color: #BB0000;">0.061</span><span style="color: #BB0000; text-decoration: underline;">5</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> n      0.061<span style="text-decoration: underline;">5</span>   -<span style="color: #BB0000;">0.139</span>    -<span style="color: #BB0000;">0.067</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">0.065</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.105</span> -<span style="color: #BB0000;">0.212</span>    -<span style="color: #BB0000;">0.115</span>   -<span style="color: #BB0000;">0.061</span><span style="color: #BB0000; text-decoration: underline;">1</span> </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 292 more variables: V10 &lt;dbl&gt;, V11 &lt;dbl&gt;, V12 &lt;dbl&gt;, V13 &lt;dbl&gt;, V14 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V15 &lt;dbl&gt;, V16 &lt;dbl&gt;, V17 &lt;dbl&gt;, V18 &lt;dbl&gt;, V19 &lt;dbl&gt;, V20 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V21 &lt;dbl&gt;, V22 &lt;dbl&gt;, V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;, V26 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V27 &lt;dbl&gt;, V28 &lt;dbl&gt;, V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;, V32 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V33 &lt;dbl&gt;, V34 &lt;dbl&gt;, V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V37 &lt;dbl&gt;, V38 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V39 &lt;dbl&gt;, V40 &lt;dbl&gt;, V41 &lt;dbl&gt;, V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V45 &lt;dbl&gt;, V46 &lt;dbl&gt;, V47 &lt;dbl&gt;, V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;, …</span></span></span></code></pre></div>
<p>In our case, we want to use the tokens as row names, so we want to
move the first column to the row names and delete it to have a 300
dimension by tokens matrix.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lower case</span></span>
<span><span class="va">af_dims</span><span class="op">$</span><span class="va">V1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">af_dims</span><span class="op">[</span> , <span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co"># first column is always the tokens</span></span>
<span></span>
<span><span class="co"># eliminate duplicates </span></span>
<span><span class="va">af_dims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_dims</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">af_dims</span><span class="op">[</span> , <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make row names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">af_dims</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">af_dims</span><span class="op">[</span> , <span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">af_dims</span> <span class="op">&lt;-</span> <span class="va">af_dims</span><span class="op">[</span> , <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">af_dims</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 300</span></span></span>
<span><span class="co">#&gt;          V2        V3      V4      V5     V6       V7       V8       V9      V10</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> -<span style="color: #BB0000;">0.236</span>     0.054<span style="text-decoration: underline;">4</span>    0.020<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.053</span><span style="color: #BB0000; text-decoration: underline;">1</span>  0.146  9.71<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.014<span style="text-decoration: underline;">6</span>   0.042<span style="text-decoration: underline;">3</span>   0.009<span style="text-decoration: underline;">99</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">683</span>  0.078<span style="text-decoration: underline;">7</span>    0.038<span style="text-decoration: underline;">2</span>  0.037<span style="text-decoration: underline;">9</span>  0.295  2.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> -<span style="color: #BB0000;">0.171</span>    0.132    0.216  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> -<span style="color: #BB0000;">0.023</span><span style="color: #BB0000; text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">478</span>  0.191  -<span style="color: #BB0000;">0.103</span>   0.176 -<span style="color: #BB0000;">8.84</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> -<span style="color: #BB0000;">0.082</span><span style="color: #BB0000; text-decoration: underline;">8</span>  -<span style="color: #BB0000;">0.005</span><span style="color: #BB0000; text-decoration: underline;">94</span>  0.044<span style="text-decoration: underline;">5</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> -<span style="color: #BB0000;">0.410</span>     0.144     0.133  -<span style="color: #BB0000;">0.104</span>   0.295 -<span style="color: #BB0000;">3.91</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> -<span style="color: #BB0000;">0.006</span><span style="color: #BB0000; text-decoration: underline;">18</span>  0.146   -<span style="color: #BB0000;">0.068</span><span style="color: #BB0000; text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  0.344    -<span style="color: #BB0000;">0.016</span><span style="color: #BB0000; text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.198</span>   0.259  -<span style="color: #BB0000;">0.579</span> -<span style="color: #BB0000;">1.54</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.131   -<span style="color: #BB0000;">0.061</span><span style="color: #BB0000; text-decoration: underline;">5</span>  -<span style="color: #BB0000;">0.015</span><span style="color: #BB0000; text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>  0.061<span style="text-decoration: underline;">5</span>   -<span style="color: #BB0000;">0.139</span>    -<span style="color: #BB0000;">0.067</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">0.065</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.105</span> -<span style="color: #BB0000;">2.12</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> -<span style="color: #BB0000;">0.115</span>   -<span style="color: #BB0000;">0.061</span><span style="color: #BB0000; text-decoration: underline;">1</span>  -<span style="color: #BB0000;">0.066</span><span style="color: #BB0000; text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 291 more variables: V11 &lt;dbl&gt;, V12 &lt;dbl&gt;, V13 &lt;dbl&gt;, V14 &lt;dbl&gt;, V15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V16 &lt;dbl&gt;, V17 &lt;dbl&gt;, V18 &lt;dbl&gt;, V19 &lt;dbl&gt;, V20 &lt;dbl&gt;, V21 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V22 &lt;dbl&gt;, V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;, V26 &lt;dbl&gt;, V27 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V28 &lt;dbl&gt;, V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;, V32 &lt;dbl&gt;, V33 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V34 &lt;dbl&gt;, V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V37 &lt;dbl&gt;, V38 &lt;dbl&gt;, V39 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V40 &lt;dbl&gt;, V41 &lt;dbl&gt;, V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;, V45 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   V46 &lt;dbl&gt;, V47 &lt;dbl&gt;, V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;, V51 &lt;dbl&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="calculate-similarity">Calculate Similarity<a class="anchor" aria-label="anchor" href="#calculate-similarity"></a>
</h3>
<p>We can then use the <code><a href="../reference/calculate_similarity.html">calculate_similarity()</a></code> function to
get the similarity values for all words based on the dimension matrix.
The underlying function is cosine calculated between vectors of the two
word dimensions.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">af_cosine</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/calculate_similarity.html">calculate_similarity</a></span><span class="op">(</span></span>
<span>    words <span class="op">=</span> <span class="va">af_final</span><span class="op">$</span><span class="va">sentence</span>, <span class="co"># the tokens you want to filter</span></span>
<span>    dimensions <span class="op">=</span> <span class="va">af_dims</span>, <span class="co"># the matrix of items </span></span>
<span>    by <span class="op">=</span> <span class="fl">1</span> <span class="co"># 1 for rows, 2 for columns </span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>top_n</code> function can be used to calculate the top
number of cosine values for each token in the similarity matrix. Please
note: it will always return the token-token combination as 1 (the token
related to itself), so you should ask for n+1 number of cosines to then
filter out the token-token combinations. Big thanks to Brenton Wiernik
who figured out how to make this computational efficient.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get the top 5 related words </span></span>
<span><span class="va">af_top_sim</span> <span class="op">&lt;-</span> <span class="fu">semanticprimeR</span><span class="fu">::</span><span class="fu"><a href="../reference/top_n.html">top_n</a></span><span class="op">(</span><span class="va">af_cosine</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">af_top_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">af_top_sim</span>, <span class="va">cue</span><span class="op">!=</span><span class="va">target</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">af_top_sim</span><span class="op">)</span></span>
<span><span class="co">#&gt;    cue  target    cosine</span></span>
<span><span class="co">#&gt; 2  nou     als 0.8654161</span></span>
<span><span class="co">#&gt; 3  nou   nitto 0.8476698</span></span>
<span><span class="co">#&gt; 4  nou    juis 0.8434761</span></span>
<span><span class="co">#&gt; 5  nou nicolas 0.8419336</span></span>
<span><span class="co">#&gt; 6  nou jakkals 0.8278382</span></span>
<span><span class="co">#&gt; 8 hier    bier 0.8086171</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="create-pseudowords">Create Pseudowords<a class="anchor" aria-label="anchor" href="#create-pseudowords"></a>
</h3>
<p>We originally set up a function to create words by replacing the
number of characters based on the bigrams in the token. We recommend you
use the other function based on Wuggy, but you can also do simple
replacement.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">af_top_sim</span><span class="op">$</span><span class="va">fake_cue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fake_simple.html">fake_simple</a></span><span class="op">(</span><span class="va">af_top_sim</span><span class="op">$</span><span class="va">cue</span><span class="op">)</span></span>
<span><span class="co"># you'd want to also do this based on target depending on your study </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">af_top_sim</span><span class="op">)</span></span>
<span><span class="co">#&gt;    cue  target    cosine fake_cue</span></span>
<span><span class="co">#&gt; 2  nou     als 0.8654161      non</span></span>
<span><span class="co">#&gt; 3  nou   nitto 0.8476698      not</span></span>
<span><span class="co">#&gt; 4  nou    juis 0.8434761      nof</span></span>
<span><span class="co">#&gt; 5  nou nicolas 0.8419336      nau</span></span>
<span><span class="co">#&gt; 6  nou jakkals 0.8278382      noo</span></span>
<span><span class="co">#&gt; 8 hier    bier 0.8086171     hiër</span></span></code></pre></div>
<p>You can also use the Wuggy algorithm using <code><a href="../reference/fake_Wuggy.html">fake_Wuggy()</a></code>.
<em>This function is not fast. It is slower the larger the size of the
words to create from.</em> It returns a dataframe of options to use for
pseudowords with the following columns:</p>
<ul>
<li>
<code>word_id</code>: Number id for each unique word.</li>
<li>
<code>first</code>: First syllable in pairs of syllables.</li>
<li>
<code>original_pair</code>: Pair of syllables together.</li>
<li>
<code>second</code>: Second syllable in the pairs of syllables.</li>
<li>
<code>syll</code>: Number of syllables in the token.</li>
<li>
<code>original_freq</code>: Frequency of the syllable pair.</li>
<li>
<code>replacement_pair</code>: Replacement option wherein one of the
syllables has been changed.</li>
<li>
<code>replacement_syll</code>: The replacement syllable.</li>
<li>
<code>replacement_freq</code>: The frequency of the replacement
syllable pair.</li>
<li>
<code>freq_diff</code>: The difference in frequency of the
transition pair.</li>
<li>
<code>char_diff</code>: Number of characters difference in the
original pair and the replacement pair.</li>
<li>
<code>letter_diff</code>: Number of letters difference in the
original pair and the replacement pair. If the replacement includes the
same letters, the difference would be zero. These values are excluded
from being options.}</li>
<li>
<code>original_word</code>: The original token.}</li>
<li>
<code>replacement_word</code>: The final replacement token.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">af_wuggy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fake_Wuggy.html">fake_Wuggy</a></span><span class="op">(</span></span>
<span>  wordlist <span class="op">=</span> <span class="va">af_final</span><span class="op">$</span><span class="va">sentence</span>, <span class="co"># full valid options in language</span></span>
<span>  language_hyp <span class="op">=</span> <span class="st">"../inst/latex/hyph-af.tex"</span>, <span class="co"># path to hyphenation.tex </span></span>
<span>  lang <span class="op">=</span> <span class="st">"af"</span>, <span class="co"># two letter language code</span></span>
<span>  <span class="va">replacewords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">af_top_sim</span><span class="op">$</span><span class="va">cue</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span> <span class="co"># words you want to create pseudowords for  </span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |==                                                                    |   4%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |=======                                                               |  11%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |=========                                                             |  14%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  16%  |                                                                              |============                                                          |  17%  |                                                                              |============                                                          |  18%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |==============                                                        |  21%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |================                                                      |  24%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |=======================                                               |  34%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |============================                                          |  41%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |==============================                                        |  44%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================                                     |  48%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |===================================                                   |  51%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |=====================================                                 |  54%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |============================================                          |  64%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |===================================================                   |  74%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  76%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  79%  |                                                                              |========================================================              |  80%  |                                                                              |========================================================              |  81%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |==========================================================            |  84%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |=================================================================     |  94%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100%</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">af_wuggy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 14</span></span></span>
<span><span class="co">#&gt;   word_id first       original_pair  second  syll original_freq replacement_pair</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       2 first_blank first_blank-hi hi         1             5 first_blank-tu  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       3 ne          ne-t           t          1             1 oi-t            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       1 first_blank first_blank-no no         1            22 first_blank-va  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 first_blank first_blank-we we         1            23 first_blank-bo  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: replacement_syll &lt;chr&gt;, replacement_freq &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   freq_diff &lt;dbl&gt;, char_diff &lt;int&gt;, letter_diff &lt;dbl&gt;, original_word &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   replacement_word &lt;chr&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="get-priming-data">Get Priming Data<a class="anchor" aria-label="anchor" href="#get-priming-data"></a>
</h2>
<p>You can load one of the many files included in the SPAML release by
using the <code>primeData</code> to see what we have available. The
datasets are broken into a couple types:</p>
<ul>
<li>
<code>procedure_stimuli</code>: The stimuli from the study. Each
dataset includes the ~5000 trials used in the study listed as cue-target
paits with their <code>cue_type</code>/<code>target_type</code>
(word/nonword) and trial <code>type</code> (related, unrelated,
nonword). The cosine values from the subs2vec models are included when
available for word pairs. If the value is blank or NA, you can assume
one of the words did not exist in the subs2vec model or could not be
matched. The subs2vec models were often filtered to only the top X
words, and some stimuli selected may have be infrequent.</li>
<li>
<code>matched_stimuli</code>: The matched stimuli datasets fall into
two types: “matched” which matches the original language to English, and
“unique” which includes the word pair combo found in the datasets that
makes each trial unique. Some targets were repeated due to translation -
therefore, the unique datasets allow you to unambiguously match things
together. The <code>matched_stimuli.csv</code> files has these all
matched together if you want all languages at once. The missing data is
the Arabic pairs we were asked to remove due to their taboo nature in
that culture.</li>
</ul>
<p>Each of the following files have codebooks found at: <a href="https://github.com/SemanticPriming/SPAML/tree/master/05_Data/codebooks" class="external-link uri">https://github.com/SemanticPriming/SPAML/tree/master/05_Data/codebooks</a></p>
<ul>
<li>
<code>participant_data</code>: Information on the participants who
completed each language.</li>
<li>
<code>full_data</code>: The “raw” data with only identifiers
removed.</li>
<li>
<code>trial_data</code>: The trial level data showing only the trial
blocks (i.e., excluding the other lines that indicate the timing and
inter-trial interval).</li>
<li>
<code>item_data</code>: The average results for each token/item,
ignoring the condition presented.</li>
<li>
<code>priming_data</code>: The priming data in either
<code>_trials</code> format (meaning these have been matched and labeled
for trial type) or <code>_summary</code> format (meaning
averages/summaries of the target trials matched by related and unrelated
to create a priming score).</li>
</ul>
<div class="section level3">
<h3 id="load-avaiable-data">Load Avaiable Data<a class="anchor" aria-label="anchor" href="#load-avaiable-data"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"primeData"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">primeData</span><span class="op">)</span></span>
<span><span class="co">#&gt;           type                            filename language</span></span>
<span><span class="co">#&gt; 1    item_data           ar_answered_item_data.csv       ar</span></span>
<span><span class="co">#&gt; 2 priming_data ar_answered_prime_summary_no2.5.csv       ar</span></span>
<span><span class="co">#&gt; 3 priming_data ar_answered_prime_summary_no3.0.csv       ar</span></span>
<span><span class="co">#&gt; 4 priming_data       ar_answered_prime_summary.csv       ar</span></span>
<span><span class="co">#&gt; 5 priming_data        ar_answered_prime_trials.csv       ar</span></span>
<span><span class="co">#&gt; 6    full_data                 ar_full_data.csv.gz       ar</span></span>
<span><span class="co">#&gt;                                                                                                location</span></span>
<span><span class="co">#&gt; 1           https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_answered_item_data.csv</span></span>
<span><span class="co">#&gt; 2 https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_answered_prime_summary_no2.5.csv</span></span>
<span><span class="co">#&gt; 3 https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_answered_prime_summary_no3.0.csv</span></span>
<span><span class="co">#&gt; 4       https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_answered_prime_summary.csv</span></span>
<span><span class="co">#&gt; 5        https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_answered_prime_trials.csv</span></span>
<span><span class="co">#&gt; 6                 https://github.com/SemanticPriming/SPAML/releases/download/v1.0.1/ar_full_data.csv.gz</span></span></code></pre></div>
<p>Once you decide what file you would like to download and import, you
can use <code><a href="../reference/import_prime.html">import_prime()</a></code> to import that file. Note that some
of the <code>full_data</code> datasets are quite large and may take a
while download and/or import directly. You can also just use the direct
links the primeData file to download them. Some files are heavily
compressed in <code>.gz</code> format. I recommend 7-zip if you aren’t
familar with the command line to unzip these: <a href="https://www.wikihow.com/Extract-a-Gz-File" class="external-link uri">https://www.wikihow.com/Extract-a-Gz-File</a></p>
<p>You can also import them directly into <em>R</em> with the
<em>rio</em> package (which is what this function does, but it does
download the file each time, so I’d recommend one download and then put
the import into your code directly with
<code>rio::import("filepath")</code>).</p>
</div>
<div class="section level3">
<h3 id="import-specific-data">Import Specific Data<a class="anchor" aria-label="anchor" href="#import-specific-data"></a>
</h3>
<p>In this example, we import the stimuli dataset for Spanish, which
includes the trials, type of trial information, and the cosine
calculated from subs2vec.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_prime.html">import_prime</a></span><span class="op">(</span><span class="st">"es_words.csv"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">es_words</span><span class="op">)</span></span>
<span><span class="co">#&gt;     es_cue es_target    type cue_type target_type es_cosine</span></span>
<span><span class="co">#&gt; 1 lenguado   abadejo related     word        word 0.5712210</span></span>
<span><span class="co">#&gt; 2    dejar abandonar related     word        word 0.5418134</span></span>
<span><span class="co">#&gt; 3  espalda   abdomen related     word        word 0.4251472</span></span>
<span><span class="co">#&gt; 4     beso    abrazo related     word        word 0.7530440</span></span>
<span><span class="co">#&gt; 5 ridículo   absurdo related     word        word 0.7036410</span></span>
<span><span class="co">#&gt; 6   abuelo    abuela related     word        word 0.7450651</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="match-to-lab-data">Match to LAB Data<a class="anchor" aria-label="anchor" href="#match-to-lab-data"></a>
</h2>
<div class="section level3">
<h3 id="load-available-data">Load Available Data<a class="anchor" aria-label="anchor" href="#load-available-data"></a>
</h3>
<p>To review the available data from the Linguistic Annotated
Bibliography, you can use <code>data("labData")</code>, which includes
information about available datasets overall and which are included in
our LAB data release for merging.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"labData"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">labData</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 73</span></span></span>
<span><span class="co">#&gt;   included bibtex author  year ref_title ref_journal ref_volume ref_page ref_doi</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> no       Adelm… Adelm…  <span style="text-decoration: underline;">2</span>014 <span style="color: #949494;">"</span>A behav… Behavior R… <span style="color: #949494;">"</span>46<span style="color: #949494;">"</span>       <span style="color: #949494;">"</span>1052--… <span style="color: #949494;">"</span>10.37…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> no       Aguil… Aguil…  <span style="text-decoration: underline;">2</span>017 <span style="color: #949494;">"</span>Develop… 2017 IEEE … <span style="color: #949494;">""</span>         <span style="color: #949494;">""</span>       <span style="color: #949494;">"</span>10.11…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> no       Akini… Akini…  <span style="text-decoration: underline;">2</span>014 <span style="color: #949494;">"</span>Russian… Behavior R… <span style="color: #949494;">"</span>47<span style="color: #949494;">"</span>       <span style="color: #949494;">"</span>691--7… <span style="color: #949494;">"</span>10.37…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> no       Al-Su… Al-Su…  <span style="text-decoration: underline;">2</span>006 <span style="color: #949494;">"</span>The Des… Internatio… <span style="color: #949494;">"</span>11<span style="color: #949494;">"</span>       <span style="color: #949494;">"</span>135--1… <span style="color: #949494;">"</span>10.10…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> no       Alame… Alame…  <span style="text-decoration: underline;">1</span>995 <span style="color: #949494;">"</span>Diccion… Servicio d… <span style="color: #949494;">""</span>         <span style="color: #949494;">""</span>       <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> yes      Alari… Alari…  <span style="text-decoration: underline;">1</span>999 <span style="color: #949494;">"</span>A set o… Behavior R… <span style="color: #949494;">"</span>31<span style="color: #949494;">"</span>       <span style="color: #949494;">"</span>531--5… <span style="color: #949494;">"</span>10.37…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 64 more variables: no1 &lt;chr&gt;, no2 &lt;int&gt;, type1 &lt;chr&gt;, ref1 &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   type2 &lt;chr&gt;, ref2 &lt;chr&gt;, notes_stim &lt;chr&gt;, data_name &lt;chr&gt;, nonling &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   language &lt;chr&gt;, notes_lang &lt;chr&gt;, language_glotto &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   notes_glotto &lt;chr&gt;, population &lt;chr&gt;, notes_var &lt;chr&gt;, accuracy &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ambiguity &lt;int&gt;, aoa &lt;int&gt;, arousal &lt;int&gt;, assoc &lt;int&gt;, category &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   cloze &lt;int&gt;, complex &lt;int&gt;, concrete &lt;int&gt;, confusion &lt;int&gt;, context &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   dist &lt;int&gt;, dominate &lt;int&gt;, easelearn &lt;int&gt;, familiar &lt;int&gt;, freq &lt;int&gt;, …</span></span></span>
<span></span>
<span><span class="co"># import_lab() also loads this dataset </span></span>
<span></span>
<span><span class="co"># ?labData # use this to learn about the dataset </span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="load-filtered-metadata">Load Filtered Metadata<a class="anchor" aria-label="anchor" href="#load-filtered-metadata"></a>
</h3>
<p>If you want to find specific types of LAB data, you can use the
<code>language</code> and/or `variables</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">saved</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_lab.html">import_lab</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"English"</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aoa"</span>, <span class="st">"freq"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># possible datasets that are English, aoa, and frequency</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">saved</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   saved        </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;named list&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;df [3 × 74]&gt;</span></span></span>
<span></span>
<span><span class="va">saved</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_lab.html">import_lab</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"Spanish"</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aoa"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">saved</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   saved        </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;named list&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;df [8 × 74]&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="load-specific-data">Load Specific Data<a class="anchor" aria-label="anchor" href="#load-specific-data"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_aos</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_lab.html">import_lab</a></span><span class="op">(</span>bibtexID <span class="op">=</span> <span class="st">"Alonso2015"</span>, citation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_aos</span><span class="op">$</span><span class="va">citation</span></span>
<span><span class="co">#&gt; [1] "Alonso, Fernandez, &amp; Diez. (2014). Subjective age-of-acquisition norms for 7039 Spanish words. Behavior Research Methods, 47, 268--274. doi: 10.3758/s13428-014-0454-2"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">es_aos</span><span class="op">$</span><span class="va">loaded_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 13</span></span></span>
<span><span class="co">#&gt;   word_spanish aoa_M aoa_SD aoa_min aoa_max aoa_zscore oral_freq_log_M</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a             2.28   1.44       1       6     -<span style="color: #BB0000;">1.65</span>            4.85 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> abajo         2.96   1.37       1       6     -<span style="color: #BB0000;">1.36</span>            2.62 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> abandonado    6.06   1.66       2      10     -<span style="color: #BB0000;">0.584</span>           1.62 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> abandonar     7.58   1.66       4      11     -<span style="color: #BB0000;">0.02</span>            1.81 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> abandono      7.22   1.94       3      11      0.04            1.60 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> abatimiento  10.0    1.49       5      11      1.06            0.602</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: written_freq_log_SUBTLEXESP_M &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   written_freq_log_LEXESP_M &lt;dbl&gt;, written_freq_log_espal_M &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lem_cat_espl_max &lt;chr&gt;, lem_max_code &lt;chr&gt;, syllable_N &lt;int&gt;</span></span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_lab.html">import_lab</a></span><span class="op">(</span>bibtexID <span class="op">=</span> <span class="st">"Cabana2024_R1"</span>, citation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_sim</span><span class="op">$</span><span class="va">citation</span></span>
<span><span class="co">#&gt; [1] "Cabana, Zugarramurdi, Valle-Lisboa, &amp; De Deyne. (2024). The \xd2Small World of Words\xd3 free association norms for Rioplatense Spanish. Behavior Research Methods, 56, 968--985. doi: 10.3758/s13428-023-02070-z"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">es_sim</span><span class="op">$</span><span class="va">loaded_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   cue   response         R1     N R1.Strength</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ?     pregunta         26    66      0.394 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> ?     que               8    66      0.121 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> ?     duda              6    66      0.090<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> ?     incógnita         4    66      0.060<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> ?     interrogación     3    66      0.045<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> ?     no sé             2    66      0.030<span style="text-decoration: underline;">3</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="match-to-prime-data">Match To Prime Data<a class="anchor" aria-label="anchor" href="#match-to-prime-data"></a>
</h3>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">es_words_merged</span> <span class="op">&lt;-</span> <span class="va">es_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># merge with the cue word (will be .x variables)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">es_aos</span><span class="op">$</span><span class="va">loaded_data</span>, </span>
<span>            by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"es_cue"</span> <span class="op">=</span> <span class="st">"word_spanish"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># merge with the target word (will be .y variables)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">es_aos</span><span class="op">$</span><span class="va">loaded_data</span>, </span>
<span>            by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"es_target"</span> <span class="op">=</span> <span class="st">"word_spanish"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># merge with free association similarity</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">es_sim</span><span class="op">$</span><span class="va">loaded_data</span>, </span>
<span>            by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"es_cue"</span> <span class="op">=</span> <span class="st">"cue"</span>,</span>
<span>                   <span class="st">"es_target"</span> <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">es_words_merged</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 33</span></span></span>
<span><span class="co">#&gt;   es_cue   es_target type    cue_type target_type es_cosine aoa_M.x aoa_SD.x</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> lenguado abadejo   related word     word            0.571    7.68     2.38</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> dejar    abandonar related word     word            0.542    5.5      1.83</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> espalda  abdomen   related word     word            0.425    3.9      1.75</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> beso     abrazo    related word     word            0.753    2.5      1.59</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> ridículo absurdo   related word     word            0.704   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> abuelo   abuela    related word     word            0.745    2.32     1.28</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 25 more variables: aoa_min.x &lt;int&gt;, aoa_max.x &lt;int&gt;, aoa_zscore.x &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   oral_freq_log_M.x &lt;dbl&gt;, written_freq_log_SUBTLEXESP_M.x &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   written_freq_log_LEXESP_M.x &lt;dbl&gt;, written_freq_log_espal_M.x &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lem_cat_espl_max.x &lt;chr&gt;, lem_max_code.x &lt;chr&gt;, syllable_N.x &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   aoa_M.y &lt;dbl&gt;, aoa_SD.y &lt;dbl&gt;, aoa_min.y &lt;int&gt;, aoa_max.y &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   aoa_zscore.y &lt;dbl&gt;, oral_freq_log_M.y &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   written_freq_log_SUBTLEXESP_M.y &lt;dbl&gt;, written_freq_log_LEXESP_M.y &lt;dbl&gt;, …</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="other-cool-stuff">Other Cool Stuff<a class="anchor" aria-label="anchor" href="#other-cool-stuff"></a>
</h2>
<p>We used <code>labjs</code> for this project. The datasets you get
from <code>labjs</code> are in a SQLite file. It’s not super fun to
process. So, they wrote a function to do that. We included that function
here as <code><a href="../reference/processData.html">processData()</a></code>, and you can see that we used it in
our data processing files. It’s here if you want to use it yourself on
<code>labjs</code> projects.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/processData.html">processData</a></span><span class="op">(</span><span class="st">"data.sqlite"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Check out the <code>text</code> package for how to merge word
embeddings in <em>R</em>: <a href="https://osf.io/preprints/psyarxiv/293kt" class="external-link uri">https://osf.io/preprints/psyarxiv/293kt</a>
</li>
<li><a href="https://cran.r-project.org/web/packages/text/vignettes/huggingface_in_r.html" class="external-link uri">https://cran.r-project.org/web/packages/text/vignettes/huggingface_in_r.html</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Erin M. Buchanan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
